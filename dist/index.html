<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
</head>

<body>
  <!-- ç»™æ¨¡ç‰ˆä¸­çš„å±æ€§å¢åŠ ä¸€ä¸ªæ”¶é›†å™¨ dep -->
  <!-- é¡µé¢æ¸²æŸ“çš„æ—¶å€™ å°†æ¸²æŸ“é€»è¾‘å°è£…åˆ°watcherä¸­ vm._update(vm._render()) -->
  <!-- è®©depè®°ä½è¿™ä¸ªwatcherå³å¯ï¼Œç¨åå±æ€§å˜åŒ–äº†å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„depä¸­å­˜æ”¾çš„watcherè¿›è¡Œé‡æ–°æ¸²æŸ“ -->
  <!-- è§‚å¯Ÿè€…æ¨¡å¼ -->
  <div id="app" style="overflow: hidden">
    {{arr}}
    {{msg}}
    {{user}}
    {{user}}
    {{user}}
    {{user}}
  </div>
  <script src="vue.js"></script>
  <script>
    // å“åº”å¼çš„æ•°æ®å˜åŒ–ï¼Œæ•°æ®å˜åŒ–äº†æˆ‘å¯ä»¥ç›‘æ§åˆ°æ•°æ®çš„å˜åŒ–
    // æ•°æ®çš„å–å€¼å’Œæ›´æ”¹å€¼æˆ‘ä»¬è¦ç›‘æ§åˆ°
    const vm = new Vue({
      data() {
        return {
          msg: "hello world",
          age: 18,
          obj: {
            test: 123,
            testObj: {
              a: 1,
            },
          },
          arr: [123, { a: 1, test: 2 }, [123]],
        };
      },
      computed: {
        user: {
          get() {
            console.log('run')
            return this.age + 'computed'
          },
        }
      },
      watch: {
        msg(newValue, oldValue) {
          console.log("ğŸš€ ~ file: index.html ~ line 51 ~ msg ~ newValue,oldValue", newValue, oldValue)

        }
      },
      created() {
        console.log(3);
      },
      el: "#app", // æˆ‘ä»¬è¦å°†æ•°æ®è§£æåˆ°elå…ƒç´ ä¸Š
    });
    setTimeout(() => {
      vm.arr.push(100)
      vm.arr[2].push('test')
      vm.age = 777
      vm.msg = 'change'
    }, 2000)
      // 1ï¼‰å°†æ•°æ®å…ˆå¤„ç†æˆå“åº”å¼ initStateï¼ˆé’ˆå¯¹å¯¹è±¡æ¥è¯´ä¸»è¦æ˜¯å¢åŠ defineProperty é’ˆå¯¹æ•°æ®å°±æ˜¯é‡å†™æ–¹æ³•ï¼‰
      // 2ï¼‰æ¨¡æ¿ç¼–è¯‘ï¼šå°†æ¨¡ç‰ˆå…ˆè½¬æ¢æˆastè¯­æ³•æ ‘ï¼Œå°†astè¯­æ³•æ ‘ç”Ÿæˆrenderæ–¹æ³•
      // 3ï¼‰è°ƒç”¨renderå‡½æ•° ä¼šè¿›è¡Œå–å€¼æ“ä½œ äº§ç”Ÿå¯¹åº”çš„è™šæ‹ŸDOM render(){ _c('div',null,_v(name)) }
      // 4ï¼‰å°†è™šæ‹ŸDOMæ¸²æŸ“æˆçœŸå®DOM

      // 1.æ¨¡ç‰ˆå¼•æ“ æ€§èƒ½å·® éœ€è¦æ­£åˆ™åŒ¹é…æ›¿æ¢ 1.0 çš„æ—¶å€™æ²¡æœ‰å¼•å…¥è™šæ‹ŸDOMçš„æ”¹å˜
      // 2.é‡‡ç”¨è™šæ‹ŸDOMï¼Œæ•°æ®å˜åŒ–åæ¯”è¾ƒè™šæ‹ŸDOMçš„å·®å¼‚ï¼Œæœ€åæ›´æ–°éœ€è¦æ›´æ–°çš„åœ°æ–¹
      // 3.æ ¸å¿ƒå°±æ˜¯æˆ‘ä»¬éœ€è¦å°†æ¨¡ç‰ˆå˜æˆæˆ‘ä»¬çš„jsè¯­æ³•ï¼Œé€šè¿‡jsè¯­æ³•ç”Ÿæˆè™šæ‹ŸDOM

      // ä»ä¸€ä¸ªä¸œè¥¿å˜æˆå¦ä¸€ä¸ªä¸œè¥¿ è¯­æ³•ä¹‹é—´çš„è½¬åŒ– es6 -> es5
      // csså‹ç¼© æˆ‘ä»¬éœ€è¦å…ˆå˜æˆè¯­æ³•æ ‘å†é‡æ–°ç»„è£…ä»£ç æˆä¸ºæ–°çš„è¯­æ³• å°†templateè¯­æ³•è½¬æ¢æˆrenderå‡½æ•°
  </script>
</body>

</html>